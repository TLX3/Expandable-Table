//  Generate markup for rows here

// User inputs data set and keys to expandable row by layer
let numOfLayers = 3;
let childKeys = ['children1', 'children2', 'children3'];
let dataSet = [
{
  "company": "GEEKFARM",
  "phone": "+1 (918) 509-3061",
  "address": "369 Dinsmore Place, Deltaville, Montana, 1604",
  "about": "Duis elit ullamco velit exercitation dolor sint nulla sunt et culpa enim reprehenderit exercitation. Commodo nostrud sunt do ipsum tempor est laboris sunt ea voluptate. Id commodo enim ea et labore cupidatat officia.",
  "registered": "Tuesday, July 1, 2014 7:26 PM",
  "children1": [
  {
    "company": "CORMORAN",
    "phone": "+1 (811) 574-2653",
    "address": "753 Hausman Street, Lumberton, Nebraska, 4391",
    "about": "Ex veniam amet pariatur eiusmod qui deserunt in sit. Quis mollit do ut eu elit in. Sint consectetur quis enim velit excepteur minim culpa officia sint Lorem nostrud excepteur aliquip.",
    "registered": "Saturday, February 25, 2017 12:28 PM",
    "children2": [
    {
      "company": "SUPPORTAL",
      "phone": "+1 (860) 481-3700",
      "address": "493 Lake Avenue, Enetai, Connecticut, 1443",
      "about": "Proident cillum non eu tempor enim et est. Laborum id ut do consequat enim voluptate reprehenderit duis. Amet commodo nostrud mollit tempor magna culpa.",
      "registered": "Friday, July 7, 2017 10:22 PM",
      "children3": [
      {
        "company": "MYOPIUM",
        "phone": "+1 (879) 427-3822",
        "address": "424 Elmwood Avenue, Strong, Arkansas, 1676",
        "about": "Pariatur aute id eu veniam pariatur pariatur sunt aliquip reprehenderit est in. Dolor ea officia excepteur enim minim officia deserunt enim veniam dolore dolor aliqua sint. Lorem in id exercitation et occaecat ex eu. Qui ut enim ea non nulla elit.",
        "registered": "Tuesday, January 31, 2017 6:54 AM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "HELIXO",
  "phone": "+1 (892) 517-3510",
  "address": "222 Miami Court, Mahtowa, New York, 2492",
  "about": "In proident et aliqua aliquip cillum minim reprehenderit laborum anim velit dolore. Minim proident aliqua incididunt ea enim sint enim labore excepteur. Aliqua laborum est id tempor aliqua enim quis commodo non occaecat et. Cupidatat labore elit amet anim nostrud elit. Qui deserunt et culpa ex ea nostrud est ullamco fugiat et commodo est. Lorem Lorem ipsum aliqua nostrud sunt. Enim eiusmod laboris non sint magna aute fugiat sit.",
  "registered": "Wednesday, January 22, 2014 10:02 PM",
  "children1": [
  {
    "company": "ACRUEX",
    "phone": "+1 (976) 502-2189",
    "address": "276 Willow Place, Adelino, Minnesota, 566",
    "about": "Nostrud aliquip quis qui tempor dolor. Labore elit magna irure quis elit proident. Aliquip dolore id dolore consequat cupidatat deserunt sit elit consectetur magna. Occaecat nostrud magna qui proident. Do nisi nulla culpa est labore. Est consequat consectetur esse Lorem consectetur aliquip anim nostrud. Mollit est dolore nisi occaecat.",
    "registered": "Monday, April 10, 2017 8:21 PM",
    "children2": [
    {
      "company": "EARTHPURE",
      "phone": "+1 (861) 471-3480",
      "address": "929 Mersereau Court, Sunwest, Federated States Of Micronesia, 1752",
      "about": "Consectetur qui qui et incididunt cupidatat id et sint minim esse aute. Do nostrud incididunt esse velit irure exercitation Lorem sit elit irure elit qui culpa. Irure ex pariatur ipsum elit. Ex labore qui occaecat sint laborum velit dolore anim voluptate ipsum. Minim ipsum mollit velit sunt.",
      "registered": "Thursday, January 21, 2016 9:58 AM",
      "children3": [
      {
        "company": "ENTROFLEX",
        "phone": "+1 (823) 544-3760",
        "address": "221 Halsey Street, Brethren, Pennsylvania, 577",
        "about": "Quis do esse aute ea velit duis occaecat pariatur in pariatur non veniam sit. Veniam labore mollit laboris eu ex sint Lorem deserunt nostrud anim deserunt enim commodo. Ex dolore qui ullamco dolore ex. Ex voluptate eu do minim. Reprehenderit aute culpa veniam labore in magna laboris dolore ex eu. Consectetur exercitation aliqua labore duis. Dolore dolore anim veniam culpa culpa cupidatat irure.",
        "registered": "Tuesday, January 19, 2016 9:23 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "ORBOID",
  "phone": "+1 (967) 522-2089",
  "address": "124 Dare Court, Dexter, Rhode Island, 9921",
  "about": "Cupidatat ea velit ex eu aliquip ut. Dolore esse id nulla veniam minim et labore adipisicing adipisicing enim deserunt officia. Esse commodo labore minim nisi non. Dolore culpa consequat amet proident irure minim elit in tempor amet aute tempor. Ipsum cillum aliquip incididunt adipisicing sint incididunt ullamco eiusmod veniam non.",
  "registered": "Monday, April 17, 2017 12:49 AM",
  "children1": [
  {
    "company": "VELITY",
    "phone": "+1 (978) 496-3724",
    "address": "609 Bleecker Street, Durham, Virgin Islands, 5324",
    "about": "Dolore consequat do laboris sunt minim quis proident culpa et cillum. Consectetur elit ullamco Lorem nostrud laboris ea est sint velit consequat anim anim. Excepteur tempor anim deserunt velit aute exercitation dolor nisi minim. Voluptate mollit velit magna duis enim et proident deserunt. Ipsum ex sunt officia occaecat. Exercitation ad mollit consectetur deserunt qui. Lorem nisi sit dolor id non irure duis.",
    "registered": "Friday, May 9, 2014 9:51 AM",
    "children2": [
    {
      "company": "DAYCORE",
      "phone": "+1 (873) 486-3518",
      "address": "716 Hampton Avenue, Newcastle, Vermont, 5040",
      "about": "Lorem duis velit elit ea commodo aliquip officia laborum magna laboris id. Tempor et sunt qui cillum pariatur veniam laboris nisi voluptate ut sint ullamco fugiat nisi. Nisi nostrud sint labore laborum mollit. Nisi exercitation esse magna veniam velit amet mollit. Deserunt mollit duis aute ipsum Lorem incididunt. Proident incididunt magna irure fugiat quis duis voluptate proident aute officia.",
      "registered": "Tuesday, May 20, 2014 10:38 PM",
      "children3": [
      {
        "company": "ADORNICA",
        "phone": "+1 (909) 552-2302",
        "address": "316 Montgomery Place, Crucible, North Carolina, 7987",
        "about": "Esse laborum amet sint eiusmod nisi. Voluptate consequat anim velit ad laborum laborum labore culpa nulla ad ullamco enim pariatur. Et et aliqua in ipsum commodo magna labore nostrud eu sunt.",
        "registered": "Monday, September 21, 2015 8:19 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "BICOL",
  "phone": "+1 (870) 524-3063",
  "address": "837 Moore Street, Norris, District Of Columbia, 7900",
  "about": "Magna ea labore in quis nisi exercitation nostrud pariatur elit eiusmod fugiat anim. Nostrud elit quis mollit in esse et ut anim ut voluptate velit sint consectetur do. Enim deserunt excepteur consequat adipisicing enim sit deserunt aute esse dolor labore aliqua.",
  "registered": "Tuesday, September 16, 2014 6:14 PM",
  "children1": [
  {
    "company": "FLUMBO",
    "phone": "+1 (927) 463-3792",
    "address": "100 Engert Avenue, Brownlee, Maryland, 6184",
    "about": "Officia tempor excepteur laboris ullamco irure ex velit est exercitation culpa consectetur. Ipsum exercitation adipisicing consequat est laborum est ad consequat aliqua in. Culpa proident est eiusmod sint dolore nisi mollit excepteur ex nostrud ipsum. In aute irure nisi ipsum culpa. Ad laborum aliquip elit veniam velit mollit amet reprehenderit minim ut ex magna mollit.",
    "registered": "Tuesday, January 3, 2017 7:26 PM",
    "children2": [
    {
      "company": "GINK",
      "phone": "+1 (936) 491-3774",
      "address": "329 Metrotech Courtr, Driftwood, Wisconsin, 8670",
      "about": "Nostrud est adipisicing consectetur laboris commodo adipisicing occaecat velit labore eu reprehenderit nulla nulla. Esse aute nostrud fugiat proident dolor commodo excepteur. Est consectetur non incididunt consequat irure cillum voluptate eu est dolor ea adipisicing in nisi. Eiusmod excepteur cillum incididunt fugiat consequat qui sint aliqua sunt. Fugiat ad esse aliqua aute et elit quis anim non labore adipisicing non. Lorem elit occaecat labore veniam tempor quis nostrud est ad labore non est. Incididunt commodo ullamco laboris officia esse commodo aute excepteur labore dolore non magna veniam amet.",
      "registered": "Friday, September 12, 2014 9:31 PM",
      "children3": [
      {
        "company": "SLOFAST",
        "phone": "+1 (822) 461-3037",
        "address": "229 Ivan Court, Manitou, Wyoming, 6396",
        "about": "Officia exercitation nulla fugiat duis non anim exercitation in mollit incididunt pariatur nisi culpa excepteur. Proident excepteur laboris id nostrud officia nostrud deserunt anim reprehenderit. Esse consectetur laboris tempor reprehenderit eiusmod exercitation minim eu sint dolore ad nisi.",
        "registered": "Friday, December 2, 2016 4:54 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "ZENTIX",
  "phone": "+1 (880) 464-2000",
  "address": "491 High Street, Edgar, Colorado, 2276",
  "about": "Irure excepteur laboris ipsum elit est sit voluptate ipsum incididunt. Excepteur eu laborum amet incididunt deserunt duis excepteur exercitation consequat cupidatat enim magna in. Tempor sint officia eiusmod cupidatat in sint fugiat. Et adipisicing cupidatat occaecat Lorem. Veniam amet pariatur minim mollit.",
  "registered": "Thursday, November 19, 2015 1:44 PM",
  "children1": [
  {
    "company": "MALATHION",
    "phone": "+1 (946) 527-2766",
    "address": "957 Columbus Place, Brooktrails, Missouri, 123",
    "about": "Laboris officia quis esse do. Ad ut aliqua est nostrud dolor sit laborum id incididunt veniam. Dolor incididunt ipsum ipsum excepteur mollit anim ex excepteur in culpa anim adipisicing. Labore et aliquip anim magna ut aute nulla magna duis. Dolor aliqua commodo velit sit ullamco ullamco occaecat adipisicing sint occaecat ex. Nisi reprehenderit aliquip reprehenderit id laborum sint in veniam deserunt. Reprehenderit minim mollit in id incididunt elit cillum sunt deserunt minim deserunt pariatur labore.",
    "registered": "Sunday, June 22, 2014 2:26 PM",
    "children2": [
    {
      "company": "HAIRPORT",
      "phone": "+1 (860) 542-2578",
      "address": "105 Highlawn Avenue, Coinjock, Iowa, 6140",
      "about": "Do eiusmod duis enim magna amet ut. Sint duis cillum Lorem enim nostrud irure exercitation qui proident eiusmod enim. Reprehenderit exercitation laboris amet nulla. Consectetur deserunt ullamco labore laborum veniam minim elit non adipisicing incididunt dolor eiusmod ut elit. Quis anim incididunt occaecat ut ullamco veniam et consectetur veniam Lorem Lorem voluptate ipsum.",
      "registered": "Wednesday, February 5, 2014 8:14 PM",
      "children3": [
      {
        "company": "PERMADYNE",
        "phone": "+1 (802) 523-3714",
        "address": "555 Hull Street, Kingstowne, Texas, 3048",
        "about": "Quis irure dolore pariatur proident cupidatat laborum magna sint adipisicing labore minim excepteur nisi enim. Exercitation voluptate cillum consequat non. Irure anim ut aliqua mollit minim ex nisi ullamco culpa amet nulla elit. Ut aute voluptate ex cillum ullamco elit ullamco laborum aliqua reprehenderit proident deserunt incididunt labore.",
        "registered": "Thursday, February 12, 2015 9:17 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "ZOLAR",
  "phone": "+1 (908) 447-2630",
  "address": "740 Laurel Avenue, Allentown, Alabama, 5335",
  "about": "In deserunt aliqua labore veniam aliqua est deserunt proident voluptate eiusmod esse laboris anim. Ea cupidatat Lorem commodo aliqua ex duis eiusmod est sit dolore. Magna voluptate aliquip pariatur non ut veniam.",
  "registered": "Wednesday, November 4, 2015 11:25 PM",
  "children1": [
  {
    "company": "CONFERIA",
    "phone": "+1 (878) 469-3820",
    "address": "972 Graham Avenue, Malott, Illinois, 6868",
    "about": "Esse ut non irure reprehenderit incididunt duis incididunt cillum velit eiusmod laborum non commodo occaecat. Et ad enim enim laborum qui dolor qui in deserunt nulla tempor sint. Ea duis officia cupidatat amet ex eiusmod. Ea pariatur deserunt dolor duis. Elit nisi dolor enim non et ut anim nulla sit fugiat cillum commodo ipsum nulla.",
    "registered": "Sunday, February 22, 2015 5:40 AM",
    "children2": [
    {
      "company": "GLEAMINK",
      "phone": "+1 (848) 447-3615",
      "address": "672 Evergreen Avenue, Freeburn, Mississippi, 2834",
      "about": "Fugiat ullamco dolor velit do irure occaecat. Qui sit ad eiusmod quis consectetur ex quis esse nulla nostrud dolor et sint. Proident excepteur ut qui et aute reprehenderit laborum aliquip velit incididunt amet labore. Officia aute id ad ullamco eu occaecat. Aliquip amet nostrud aute adipisicing magna.",
      "registered": "Friday, December 9, 2016 7:36 AM",
      "children3": [
      {
        "company": "CODAX",
        "phone": "+1 (824) 578-2724",
        "address": "997 Sheffield Avenue, Lisco, Oklahoma, 7038",
        "about": "Consequat ullamco irure est voluptate ad ut do. Fugiat consectetur quis incididunt dolore occaecat in nulla anim consequat. Aliquip id consectetur exercitation commodo qui anim excepteur esse dolor consectetur ex sint. Nisi eu commodo ullamco ipsum aliquip ea qui laboris commodo duis ex proident.",
        "registered": "Thursday, July 16, 2015 5:16 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "ZILLANET",
  "phone": "+1 (921) 498-2278",
  "address": "948 Bragg Street, Franklin, Washington, 1123",
  "about": "Labore est incididunt quis deserunt eu voluptate sit proident dolore ut eiusmod incididunt id. Fugiat ut commodo occaecat consequat irure aute quis enim occaecat irure nisi eu duis nostrud. Cillum magna cupidatat aute adipisicing non aliqua culpa Lorem. Ex duis esse do dolore reprehenderit est proident sint. Duis elit est irure occaecat adipisicing dolore. Sit deserunt esse Lorem labore ea laboris velit. Culpa nostrud mollit duis amet nisi commodo incididunt eu ullamco ullamco.",
  "registered": "Friday, February 26, 2016 11:22 AM",
  "children1": [
  {
    "company": "INSURON",
    "phone": "+1 (812) 413-3760",
    "address": "188 Alabama Avenue, Ivanhoe, Maine, 1291",
    "about": "Lorem et ea ex et veniam qui ipsum amet Lorem voluptate sit proident sint. Quis aliqua ullamco Lorem deserunt laboris qui enim dolor. In elit est ullamco eiusmod in tempor commodo consectetur qui Lorem. Excepteur occaecat proident ad est consectetur proident fugiat nisi elit dolore nulla. Ex ad pariatur adipisicing commodo anim. Ut enim adipisicing dolore sit nisi sint fugiat laborum deserunt deserunt voluptate nisi. Ex eiusmod id esse nulla proident culpa id laboris nulla minim.",
    "registered": "Sunday, November 2, 2014 3:12 PM",
    "children2": [
    {
      "company": "UNISURE",
      "phone": "+1 (949) 462-3126",
      "address": "614 Evans Street, Comptche, Northern Mariana Islands, 7667",
      "about": "Et dolor consectetur fugiat dolor in irure culpa irure deserunt non amet. Magna quis velit Lorem adipisicing sit. Adipisicing reprehenderit irure ea ad tempor occaecat ex exercitation laborum pariatur incididunt nulla cillum velit. In aute consequat non est ut id exercitation voluptate qui tempor laborum Lorem deserunt incididunt.",
      "registered": "Thursday, December 29, 2016 4:24 PM",
      "children3": [
      {
        "company": "BIOSPAN",
        "phone": "+1 (907) 591-2306",
        "address": "778 Stewart Street, Downsville, New Hampshire, 8088",
        "about": "Occaecat ea adipisicing labore veniam culpa reprehenderit qui dolore non ad in eu. Laborum ullamco tempor est velit esse elit incididunt tempor tempor duis aliqua Lorem elit anim. Ea mollit laborum ea Lorem incididunt. Sit sunt consequat enim duis officia labore sunt excepteur. Non cillum nisi ut deserunt aliqua.",
        "registered": "Saturday, June 20, 2015 5:43 AM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "GEEKMOSIS",
  "phone": "+1 (837) 402-3199",
  "address": "284 Hale Avenue, Gracey, Marshall Islands, 1552",
  "about": "Labore in dolor ea et amet pariatur eiusmod Lorem dolore. Aliquip commodo duis ullamco pariatur ex cupidatat exercitation cupidatat sunt quis Lorem elit cillum. Irure occaecat sunt voluptate magna cillum labore non magna commodo sint adipisicing ex occaecat. Ipsum officia dolor ad dolor sint eiusmod labore cillum tempor sunt. Culpa aliqua esse ullamco sint nulla ipsum aute occaecat irure.",
  "registered": "Saturday, August 6, 2016 7:19 AM",
  "children1": [
  {
    "company": "MAXIMIND",
    "phone": "+1 (985) 505-3503",
    "address": "844 Montauk Avenue, Barrelville, New Mexico, 9057",
    "about": "Excepteur voluptate dolore officia aliquip exercitation cupidatat voluptate ut veniam quis fugiat nostrud reprehenderit. Eu irure ipsum id aute culpa ad qui nulla proident ad dolore elit. Amet do tempor id sunt anim magna est cupidatat non aliquip.",
    "registered": "Sunday, May 14, 2017 9:59 PM",
    "children2": [
    {
      "company": "PULZE",
      "phone": "+1 (887) 439-2543",
      "address": "648 Fenimore Street, Coleville, Tennessee, 790",
      "about": "Eu et culpa quis laboris reprehenderit reprehenderit ut culpa irure irure non tempor voluptate. Magna deserunt id duis aute nisi consectetur irure eiusmod aliquip consectetur ullamco. Lorem amet magna laborum cillum. Elit ut aute pariatur enim elit minim mollit fugiat officia sint sit ea. Excepteur cupidatat nulla deserunt pariatur. Laborum sunt cillum in officia laborum pariatur deserunt pariatur qui tempor ut dolor. Qui enim ea id reprehenderit laboris ex laborum ullamco laboris nostrud.",
      "registered": "Wednesday, December 16, 2015 10:14 AM",
      "children3": [
      {
        "company": "ISOSWITCH",
        "phone": "+1 (994) 519-2175",
        "address": "107 Beard Street, Sisquoc, Oregon, 8218",
        "about": "Eu occaecat velit qui veniam fugiat sint ea. Deserunt laboris aliqua incididunt veniam nulla aute qui. Minim quis sint officia elit. Cillum deserunt pariatur proident velit.",
        "registered": "Wednesday, November 23, 2016 1:10 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "ZAPHIRE",
  "phone": "+1 (922) 401-3891",
  "address": "433 Apollo Street, Esmont, Palau, 4767",
  "about": "Pariatur cillum est velit dolor veniam tempor elit. Duis laborum minim sunt esse ullamco sunt qui excepteur mollit labore pariatur anim sit sit. Veniam enim et velit reprehenderit magna sunt voluptate reprehenderit culpa eiusmod dolore eu laboris. Non nostrud laborum esse laboris elit irure. Ad cupidatat quis quis mollit laborum dolor nulla enim mollit occaecat dolor nulla minim. Duis id laborum culpa minim. Elit Lorem reprehenderit laborum commodo ex eu Lorem officia deserunt consectetur.",
  "registered": "Thursday, May 22, 2014 12:13 AM",
  "children1": [
  {
    "company": "OPTICALL",
    "phone": "+1 (831) 560-2806",
    "address": "921 Clay Street, Laurelton, Massachusetts, 1998",
    "about": "Dolor amet ullamco ipsum enim nostrud adipisicing Lorem irure proident sint aliqua voluptate. Eu sint elit laborum qui non esse ea ipsum minim ipsum excepteur excepteur consequat. Incididunt cillum ex aliquip eiusmod labore Lorem magna sit magna dolore sunt. Veniam ex eiusmod nisi eiusmod in dolor elit ex aliquip deserunt.",
    "registered": "Friday, September 23, 2016 4:27 AM",
    "children2": [
    {
      "company": "TROLLERY",
      "phone": "+1 (943) 504-3972",
      "address": "751 Freeman Street, Hampstead, Ohio, 8436",
      "about": "Mollit amet elit velit dolore cillum est non quis culpa aliquip do aute mollit eiusmod. Sit quis occaecat cillum in officia exercitation ea sint. Ut laboris sint non eu nulla. Velit ad proident labore amet cupidatat sunt deserunt nulla anim ad esse veniam voluptate anim. Sunt commodo qui velit proident sunt dolore deserunt do non magna in. Tempor proident excepteur laborum Lorem adipisicing. Eiusmod dolore pariatur ullamco laboris ullamco tempor.",
      "registered": "Thursday, December 15, 2016 11:26 AM",
      "children3": [
      {
        "company": "MAXEMIA",
        "phone": "+1 (959) 569-2522",
        "address": "685 Applegate Court, Hachita, New Jersey, 4732",
        "about": "Non qui magna sit qui sit quis do ut cupidatat. Quis duis cillum velit nostrud anim sunt consectetur. Minim laborum laborum do esse dolore culpa excepteur ex cupidatat non voluptate irure. Cillum laborum duis deserunt amet fugiat cupidatat nulla ipsum laborum dolor culpa. Ex duis ad et consectetur culpa nostrud ut dolore irure fugiat. Fugiat do adipisicing aliqua laborum qui labore ullamco.",
        "registered": "Tuesday, September 15, 2015 8:13 PM"
      }
      ]
    }
    ]
  }
  ]
},
{
  "company": "GEEKOLOGY",
  "phone": "+1 (853) 569-2277",
  "address": "371 Macon Street, Shelby, North Dakota, 4110",
  "about": "Mollit excepteur non duis pariatur et veniam veniam dolore ea eu ullamco consequat. Enim eu occaecat dolore qui. Consequat et do sunt do commodo duis sint dolor commodo Lorem non et.",
  "registered": "Wednesday, April 9, 2014 8:09 PM",
  "children1": [
  {
    "company": "NAMEBOX",
    "phone": "+1 (905) 459-2338",
    "address": "418 Hampton Place, Nile, Virginia, 3728",
    "about": "Cupidatat elit voluptate nostrud est commodo est magna ea excepteur mollit. Aliqua nisi et et sit. Veniam velit consectetur nisi tempor enim consectetur reprehenderit proident velit aliquip dolor ut sit. Nostrud laboris enim proident elit non ad enim quis.",
    "registered": "Sunday, September 25, 2016 6:10 AM",
    "children2": [
    {
      "company": "NETBOOK",
      "phone": "+1 (921) 424-2136",
      "address": "499 Cortelyou Road, Hiwasse, California, 2723",
      "about": "Officia cupidatat minim ad veniam irure mollit nulla anim mollit commodo enim nulla voluptate. Enim ea ipsum ea do pariatur laboris aute laboris eiusmod ut labore nisi commodo. Deserunt sit anim occaecat anim duis aliqua id adipisicing exercitation culpa fugiat.",
      "registered": "Tuesday, March 24, 2015 3:15 PM",
      "children3": [
      {
        "company": "BARKARAMA",
        "phone": "+1 (950) 462-3951",
        "address": "954 Meadow Street, Mulino, Arizona, 4564",
        "about": "Proident elit quis id commodo. Exercitation do qui elit irure sunt anim nostrud. Esse ex sit amet proident. Ut ex cupidatat et ea. Deserunt ad officia dolor deserunt ad nulla dolore amet. Ex cillum pariatur aliquip pariatur. Sunt enim irure proident commodo velit non elit incididunt.",
        "registered": "Friday, July 25, 2014 5:23 AM"
      }
      ]
    }
    ]
  }
  ]
}
];

function createTable(dataSet, childKeys, numOfLayers) {
  let headers = Object.keys(dataSet[0]);
  headers = headers.filter((key) => {
    return !childKeys.includes(key);
  });
  headers.forEach((key) => {
    $("#headers").append(`
      <th>${key}</th>
      `);
  })
  dataSet.forEach((datum, index) => {
    let keys = Object.keys(datum);
    keys = keys.filter((key) => {
      return !childKeys.includes(key);
    });
    //add table row
    $("#body").append(`
      <tr id="row_${index}">
      </tr>
      `);
    //add table data for given row
    keys.forEach((key, keyIndex) => {
      if (keyIndex === 0) {
        $(`#row_${index}`).append(`
          <td><i onclick="toggleExpandable(${index}, 0, ${numOfLayers})" class="fa fa-caret-right"></i>${datum[key]}</td>
          `);
      } else {
        $(`#row_${index}`).append(`
          <td>${datum[key]}</td>
          `);
      }
    });
    buildChildExpandables(currentLayer = 0, index, datum[childKeys[currentLayer]], childKeys);
  });
}

function buildChildExpandables (currentLayer, index, childArray, childKeys) {
  if (childArray) {
    childArray.forEach((child) => {
      let expandableKeys = Object.keys(child);
      expandableKeys = expandableKeys.filter((key) => {
        return !childKeys.includes(key);
      });

      $(`#body`).append(`
        <tr class="expandable" id="expandable_row${index}_layer${currentLayer}"></tr>
        `);

      expandableKeys.forEach((key, keyIndex) => {
        if (keyIndex === 0) {
          $(`#expandable_row${index}_layer${currentLayer}`).append(`
            <td><i onclick="toggleExpandable(${index}, ${currentLayer + 1}, ${childKeys.length})" style="margin-left: ${(currentLayer + 1)*15}px;" class="fa fa-caret-right"></i>${child[key]}</td>
            `);
        } else {
          $(`#expandable_row${index}_layer${currentLayer}`).append(`
            <td>${child[key]}</td>
            `);
        }
      });

      let currentChildKey = Object.keys(child).filter((key) => {
        return childKeys.includes(key);
      })[0];
      childArray = child[currentChildKey];
      if (childArray) {
        currentLayer += 1;
        buildChildExpandables(currentLayer, index, childArray, childKeys);
      }
    });
  }
}

function toggleExpandable (rowId, layer, numOfLayers) {
  for (let i = 0; i < numOfLayers; i++) {
    if (i === layer) {
      $("#expandable_row" + rowId + '_layer' + layer).toggle();
    }
    let el = $("#expandable_row" + rowId + '_layer' + i);
    if (i > layer && el.is(":visible")) {
      el.toggle();
    }
  }
}

createTable(dataSet, childKeys, numOfLayers);
